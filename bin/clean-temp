#!/bin/sh

clean_dir() {
    test -d "$1" || return
    find "$1" -depth -mindepth 1 -xdev \
        \( -type f -mtime +14 -delete \) -or \
        \( -type d -empty -delete \)
}

if [ $# -eq 0 ]; then
    clean_dir "$HOME/temp"
else
    for dir in "$@"; do
        clean_dir "$dir"
    done
fi
